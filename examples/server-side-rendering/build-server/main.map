{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"path\"","webpack:///external \"react-router\"","webpack:///external \"styled-components\"","webpack:///external \"fs\"","webpack:///external \"express\"","webpack:///external \"@loadable/server\"","webpack:///external \"@loadable/component\"","webpack:///./server/html-template.js","webpack:///./server/renderer.tsx","webpack:///external \"react-dom/server\"","webpack:///./src/client/routes.tsx","webpack:///./server/index.ts","webpack:///external \"debug\"","webpack:///external \"common-tags\""],"names":["installedModules","installedChunks","2","__webpack_require__","moduleId","exports","module","i","l","modules","call","e","chunkId","chunk","require","0","1","moreModules","chunkIds","ids","length","Promise","all","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","oe","err","process","nextTick","s","_interopRequireDefault","_commonTags","src","nonce","html","extractor","loadedNonce","loadableScriptsWithNonce","getScriptTags","replace","__dirname","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","path__WEBPACK_IMPORTED_MODULE_1__","path__WEBPACK_IMPORTED_MODULE_1___default","react_dom_server__WEBPACK_IMPORTED_MODULE_2__","react_router__WEBPACK_IMPORTED_MODULE_3__","styled_components__WEBPACK_IMPORTED_MODULE_4__","_loadable_server__WEBPACK_IMPORTED_MODULE_5__","_src_client_routes__WEBPACK_IMPORTED_MODULE_6__","_html_template__WEBPACK_IMPORTED_MODULE_7__","statsFile","a","resolve","__webpack_exports__","req","res","sheet","frontend","collectStyles","createElement","location","url","context","status","setHeader","write","stream","interleaveWithNodeStream","pipe","end","on","react_router__WEBPACK_IMPORTED_MODULE_1__","styled_components__WEBPACK_IMPORTED_MODULE_2__","styled_components__WEBPACK_IMPORTED_MODULE_2___default","_loadable_component__WEBPACK_IMPORTED_MODULE_3__","_loadable_component__WEBPACK_IMPORTED_MODULE_3___default","Home","then","fallback","About","Body","div","Component","[object Object]","theme","primary","secondaryTextColor","gray90","gray50","gray30","gray20","gray10","gray5","exact","path","component","PORT","env","app","express__WEBPACK_IMPORTED_MODULE_0___default","jsFiles","fs__WEBPACK_IMPORTED_MODULE_1___default","readdirSync","path__WEBPACK_IMPORTED_MODULE_2___default","console","error","use","static","index","setHeaders","next","params","find","file","startsWith","sendFile","match","actualFilename","redirect","_renderer__WEBPACK_IMPORTED_MODULE_3__","__awaiter","undefined","log","listen"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded chunks\n \t// \"0\" means \"already loaded\"\n \tvar installedChunks = {\n \t\t2: 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// require() chunk loading for javascript\n\n \t\t// \"0\" is the signal for \"already loaded\"\n \t\tif(installedChunks[chunkId] !== 0) {\n \t\t\tvar chunk = require(\"./\" + ({\"0\":\"About\",\"1\":\"Home\"}[chunkId]||chunkId) + \".js\");\n \t\t\tvar moreModules = chunk.modules, chunkIds = chunk.ids;\n \t\t\tfor(var moduleId in moreModules) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t\tfor(var i = 0; i < chunkIds.length; i++)\n \t\t\t\tinstalledChunks[chunkIds[i]] = 0;\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// uncaught error handler for webpack runtime\n \t__webpack_require__.oe = function(err) {\n \t\tprocess.nextTick(function() {\n \t\t\tthrow err; // catch this error by using import().catch()\n \t\t});\n \t};\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","module.exports = require(\"react\");","module.exports = require(\"path\");","module.exports = require(\"react-router\");","module.exports = require(\"styled-components\");","module.exports = require(\"fs\");","module.exports = require(\"express\");","module.exports = require(\"@loadable/server\");","module.exports = require(\"@loadable/component\");","import fs from 'fs';\nimport path from 'path';\nimport { html } from 'common-tags';\n\nexport const createScriptTag = ({ src }) => `<script defer=\"defer\" src=\"${src}\"></script>`;\n\nexport const getHeader = ({ nonce }) => {\n  // prettier-ignore\n  return html`\n      <!DOCTYPE html>\n      <html lang=\"en\">\n        <head>\n          <meta charset=\"utf-8\">\n          <meta name=\"viewport\" content=\"user-scalable=no,initial-scale=1.0001,maximum-scale=1.0001,viewport-fit=cover\">\n        </head>\n        <body>\n          <noscript>\n            You need to enable JavaScript to run this app.\n          </noscript>\n          <div id=\"root\">`;\n};\n\nexport const getFooter = ({ extractor, nonce }) => {\n  const loadableScripts = extractor.getScriptTags();\n  const loadedNonce = `<script nonce=\"${nonce}\">`;\n  const loadableScriptsWithNonce = loadableScripts.replace('<script>', loadedNonce);\n  return html`</div>\n      ${loadableScriptsWithNonce}\n    </body>\n    </html>\n  `;\n};\n","const debug = require('debug')('renderer');\nimport React from 'react';\nimport path from 'path';\nimport { renderToNodeStream } from 'react-dom/server';\nimport { StaticRouter } from 'react-router';\nimport { ServerStyleSheet } from 'styled-components';\nimport { ChunkExtractor, ChunkExtractorManager } from '@loadable/server';\nconst statsFile = path.resolve(__dirname, '../build/loadable-stats.json');\nimport Routes from '../src/client/routes';\n\nimport { getFooter, getHeader } from './html-template';\n\nconst renderer = (req, res) => {\n  const nonce = ''\n  const routerContext: any = {};\n  const extractor = new ChunkExtractor({ statsFile });\n  const sheet = new ServerStyleSheet();\n  const frontend = sheet.collectStyles(\n    <ChunkExtractorManager extractor={extractor}>\n      <StaticRouter location={req.url} context={routerContext}>\n        <Routes />\n      </StaticRouter>\n    </ChunkExtractorManager>\n  );\n  res.status(200);\n\n  res.setHeader('Cache-Control', 's-maxage=0');\n\n  res.write(\n    getHeader({\n      nonce,\n    })\n  );\n\n  const stream = sheet.interleaveWithNodeStream(renderToNodeStream(frontend));\n\n  stream.pipe(\n    res,\n    { end: false }\n  );\n\n  stream.on('end', () =>\n    res.end(\n      getFooter({\n        extractor,\n        nonce,\n      })\n    )\n  )\n};\n\nexport default renderer;\n","module.exports = require(\"react-dom/server\");","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router';\nimport styled, { ThemeProvider } from 'styled-components';\nimport loadable from '@loadable/component';\nimport createBrowserHistory from 'history/createBrowserHistory';\n// import Home from './home'\n// import About from './about'\n\nconst Home = loadable(() => import(/* webpackChunkName: \"Home\" */ './home'), {\n  fallback: <div>loading...</div>,\n});\n\nconst About = loadable(() => import(/* webpackChunkName: \"About\" */ './about'), {\n  fallback: <div>loading...</div>,\n});\n\nconst Body = styled.div`\n  display: flex;\n  width: 100vw;\n  height: 100vh;\n  max-height: 100vh;\n`;\n\n\n\nclass Routes extends React.Component<any> {\n  public render() {\n    return (\n      // @ts-ignore\n      <ThemeProvider theme={{\n          primary: 'rgb(83, 109, 254)',\n          secondaryTextColor: '#70737d',\n          gray90: '#323A3B',\n          gray50: '#828A8B',\n          gray30: '#B4B9B9',\n          gray20: '#CFD2D3',\n          gray10: '#EBECEC',\n          gray5: '#F5F6F6',\n        }}>\n        <Body>\n          <Switch>\n            <Route exact={true} path=\"/\" component={Home} />\n            <Route path=\"/about\" component={About} />\n          </Switch>\n        </Body>\n      </ThemeProvider>\n    );\n  }\n}\n\nexport default Routes;\n","import express from 'express';\nimport fs from 'fs';\nimport path from 'path';\nimport renderer from './renderer';\n\nconst PORT = process.env.PORT || 3006;\n\nconst app = express();\n\nlet jsFiles;\ntry {\n  jsFiles = fs.readdirSync(path.resolve(__dirname, '..', 'build', 'static', 'js'));\n} catch (err) {\n  // In development that folder might not exist, so ignore errors here\n  console.error(err);\n}\n\napp.use(\n  express.static(path.resolve(__dirname, '..', 'build'), {\n    index: false,\n    setHeaders: (res, path) => {},\n  })\n);\n\napp.get('/static/js/:name', (req, res, next) => {\n  if (!req.params.name) {\n    return next();\n  }\n  const existingFile = jsFiles.find(file => file.startsWith(req.params.name));\n  if (existingFile) {\n    return res.sendFile(path.resolve(__dirname, '..', 'build', 'static', 'js', req.params.name));\n  }\n  // Match the first part of the file name, i.e. from \"UserSettings.asdf123.chunk.js\" match \"UserSettings\"\n  const match = req.params.name.match(/(\\w+?)\\..+js/i);\n  if (!match) {\n    return next();\n  }\n  const actualFilename = jsFiles.find(file => file.startsWith(match[1]));\n  if (!actualFilename) {\n    return next();\n  }\n  res.redirect(`/static/js/${actualFilename}`);\n});\n\napp.get('*', renderer);\n\nprocess.on('unhandledRejection', async err => {\n  console.log('Unhandled rejection', err);\n});\n\nprocess.on('uncaughtException', async err => {\n  console.log('Uncaught exception', err);\n});\n\napp.listen(PORT);\nconsole.log(`Server running at http://localhost:${PORT}`);\n","module.exports = require(\"debug\");","module.exports = require(\"common-tags\");"],"sourceRoot":""}